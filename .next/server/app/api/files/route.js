"use strict";(()=>{var e={};e.id=887,e.ids=[887],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},21747:(e,t,s)=>{s.r(t),s.d(t,{originalPathname:()=>E,patchFetch:()=>N,requestAsyncStorage:()=>d,routeModule:()=>c,serverHooks:()=>m,staticGenerationAsyncStorage:()=>f});var r={};s.r(r),s.d(r,{GET:()=>p,maxDuration:()=>l});var a=s(49303),i=s(88716),o=s(60670),n=s(87070),u=s(31216);let l=55;async function p(){let{apiKey:e,assistantName:t}=await (0,u.C)();if(!e||!t)return n.NextResponse.json({status:"error",message:"PINECONE_API_KEY and PINECONE_ASSISTANT_NAME are required.",files:[]},{status:400});try{let s=await fetch(`https://prod-1-data.ke.pinecone.io/assistant/files/${t}`,{method:"GET",headers:{"Api-Key":e}});if(!s.ok)throw Error(`HTTP error! status: ${s.status}`);let r=await s.json();if(!r.files||!Array.isArray(r.files))throw Error("Unexpected response format: files is not an array");let a=r.files.map(e=>({id:e.id,name:e.name,size:e.size,created_at:e.created_on,updated_at:e.updated_on,status:e.status,metadata:e.metadata}));return n.NextResponse.json({status:"success",message:`Files for assistant '${t}' retrieved successfully.`,files:a},{status:200})}catch(e){return console.error(`Error listing assistant files: ${e instanceof Error?e.message:String(e)}`),n.NextResponse.json({status:"error",message:`Failed to list assistant files: ${e instanceof Error?e.message:String(e)}`,files:[]},{status:500})}}let c=new a.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/files/route",pathname:"/api/files",filename:"route",bundlePath:"app/api/files/route"},resolvedPagePath:"/home/jgatlit/projects/BourneLaw/SBWC-chatbot/pinecone-assistant/src/app/api/files/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:d,staticGenerationAsyncStorage:f,serverHooks:m}=c,E="/api/files/route";function N(){return(0,o.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:f})}},31216:(e,t,s)=>{s.d(t,{C:()=>r});async function r(){let e=process.env.PINECONE_API_KEY,t=process.env.PINECONE_ASSISTANT_NAME;return(console.log(`Checking prerequisites: API Key: ${e?"Set":"Not Set"}, Assistant Name: ${t}`),e&&t)?{apiKey:e,assistantName:t}:(console.error("Error: PINECONE_API_KEY or PINECONE_ASSISTANT_NAME is missing."),{apiKey:null,assistantName:null})}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948,972],()=>s(21747));module.exports=r})();